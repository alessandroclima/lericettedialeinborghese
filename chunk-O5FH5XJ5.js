import{a as b,b as I}from"./chunk-XJQ6IEQG.js";import{a as g}from"./chunk-EAAMTQQM.js";import{b as v}from"./chunk-LCXDAU7F.js";import{Fc as h,Ia as a,Ob as d,T as u,Wa as m,kb as i,ub as p,vb as r,wb as c}from"./chunk-BF6ZZEZH.js";var F=(()=>{class l{constructor(){this.recipeService=u(g),this.groupedSlidesDataOrder=[],this.groupedSlidesForValutation=[],this.availableRecipes=[],this.carouselIdDataOrder="carouselDataOrder",this.carouselIdValutation="carouselValutation",this.carouselIdDataOrderMobile="carouselDataOrderMobile",this.carouselIdValutationMobile="carouselValutationMobile"}ngOnInit(){this.getRecipeSubscription=this.recipeService.getRecipes().subscribe({next:t=>{let o=t.sort((s,n)=>new Date(n.dataCreazione).getTime()-new Date(s.dataCreazione).getTime()),e=t.sort((s,n)=>n.tempocottura-s.tempocottura);this.availableRecipes=o.slice(-9),this.groupIntoChunksForDataOrder(this.availableRecipes,3),this.availableRecipes=e.slice(-9),this.groupIntoChunksForValutation(this.availableRecipes,3)},error:t=>{console.error("Error loading recipes",t)}})}groupIntoChunksForDataOrder(t,o){for(let e=0;e<t.length;e+=o)this.groupedSlidesDataOrder.push(t.slice(e,e+o))}groupIntoChunksForValutation(t,o){for(let e=0;e<t.length;e+=o)this.groupedSlidesForValutation.push(t.slice(e,e+o))}static{this.\u0275fac=function(o){return new(o||l)}}static{this.\u0275cmp=m({type:l,selectors:[["app-welcome-page"]],decls:12,vars:8,consts:[[1,"text-center"],[2,"color","#e84919"],[3,"carouselId","groupedSlides"],[3,"carouselId","availableRecipes"],[1,"mt-3","mb-3"]],template:function(o,e){o&1&&(p(0,"div")(1,"h3",0)(2,"strong",1),d(3,"Le ultime ricette"),r()(),c(4,"app-carousel",2)(5,"app-carousel-mobile",3),r(),p(6,"div",4)(7,"h3",0)(8,"strong",1),d(9,"Le ricette pi\xF9 votate"),r()(),c(10,"app-carousel",2)(11,"app-carousel-mobile",3),r()),o&2&&(a(4),i("carouselId",e.carouselIdDataOrder)("groupedSlides",e.groupedSlidesDataOrder),a(),i("carouselId",e.carouselIdDataOrderMobile)("availableRecipes",e.availableRecipes),a(5),i("carouselId",e.carouselIdValutation)("groupedSlides",e.groupedSlidesForValutation),a(),i("carouselId",e.carouselIdValutationMobile)("availableRecipes",e.availableRecipes))},dependencies:[h,v,b,I],encapsulation:2})}}return l})();export{F as a};
