import{j as a}from"./chunk-YNLNNLDO.js";import{a as n,d as o}from"./chunk-N7HB2IBM.js";import{O as l,U as i,j as s}from"./chunk-L66XQOBG.js";var d=(()=>{class t{constructor(){this.http=i(n),this.cookieService=i(a),this.$user=new s(void 0),this.loginUserUrl=`${o.apiBaseUrl}/api/Auth/Login`,this.registerUserUrl=`${o.apiBaseUrl}/api/Auth/Register`}loginUser(e){return this.http.post(this.loginUserUrl,e)}registerUser(e){return this.http.post(this.registerUserUrl,e)}setUser(e){this.$user.next(e),localStorage.setItem("user-email",e.email),localStorage.setItem("user-roles",e.roles.join(","))}user(){return this.$user.asObservable()}logout(){localStorage.clear(),this.cookieService.delete("Authorization","/"),this.$user.next(void 0)}getUser(){let e=localStorage.getItem("user-email"),r=localStorage.getItem("user-roles");if(e&&r)return{email:e,roles:r.split(",")}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{d as a};
