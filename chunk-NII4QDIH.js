import{a as j,b as A}from"./chunk-IX6FRUVW.js";import{b as F}from"./chunk-L7OMI3EN.js";import"./chunk-BQ55UYGZ.js";import{a as V}from"./chunk-3455J7NY.js";import{h as T}from"./chunk-PAG5MXE5.js";import{b as W,c as L,d as q,e as k,f as N,g as B,l as U,m as D}from"./chunk-XOXWJMWY.js";import{$ as p,$a as f,Ab as R,Cb as M,Db as y,Ia as s,Nb as m,Ob as r,T as S,Tb as w,Ub as b,Vb as C,Wa as P,_ as g,la as E,pb as u,ub as i,vb as t,wb as h}from"./chunk-XS7DYC3C.js";function G(e,d){e&1&&(i(0,"small",20),r(1,"Username obbligatoria"),t())}function H(e,d){e&1&&(i(0,"small",20),r(1,"Formato username non valido"),t())}function I(e,d){if(e&1&&f(0,G,2,0,"small",20)(1,H,2,0,"small",20),e&2){y();let o=m(14);u(o.errors!=null&&o.errors.required?0:o.errors!=null&&o.errors.username?1:-1)}}function O(e,d){e&1&&(i(0,"small",20),r(1,"Email obbligatoria"),t())}function z(e,d){e&1&&(i(0,"small",20),r(1,"Formato email non valido"),t())}function J(e,d){if(e&1&&f(0,O,2,0,"small",20)(1,z,2,0,"small",20),e&2){y();let o=m(20);u(o.errors!=null&&o.errors.required?0:o.errors!=null&&o.errors.email?1:-1)}}function K(e,d){e&1&&(i(0,"small",20),r(1,"Password obbligatoria"),t())}function Q(e,d){e&1&&(i(0,"small",20),r(1,"Conferma password obbligatoria"),t())}function X(e,d){e&1&&(i(0,"small",20),r(1,"Le password non corrispondono"),t())}var ae=(()=>{class e{constructor(){this.router=S(T),this.authService=S(V),this.samePassword=!1,this.model=E({username:"",email:"",password:"",confirmPassword:""})}onSubmit(o){if(console.log("Form submitted",o.value),o.value.password!==o.value.confirmPassword){this.samePassword=!1,console.error("Passwords do not match");return}else this.samePassword=!0,console.log("Passwords match");if(o.invalid){console.error("Form is invalid",o.errors);return}console.log("Form is valid",o.value),this.authService.registerUser(this.model()).subscribe({next:()=>{console.log("User registered successfully"),alert("Registration successful! Please check your email for confirmation."),this.router.navigate(["/login"])},error:_=>{console.error("Error registering user",_)}})}navigateToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(_){return new(_||e)}}static{this.\u0275cmp=P({type:e,selectors:[["app-register"]],decls:46,vars:9,consts:[["registrationForm","ngForm"],["username","ngModel"],["email","ngModel"],["password","ngModel"],["confirmPassword","ngModel"],[1,"container","mt-5","mb-4"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow-sm"],[1,"card-body","d-flex","flex-column","flex-md-row","align-items-center","p-4","bg-light"],[1,"flex-fill","pe-md-4","mb-4","mb-md-0","w-100"],[1,"mb-4","text-center",2,"color","#e84919"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","email","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-red"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-light","w-100","mt-3",2,"border-color","#e84919"],[1,"bi","bi-person-plus","me-2",2,"color","#e84919"],[1,"vr","mx-4","d-none","d-md-block",2,"height","400"],[1,"d-block","d-md-none","w-100","my-4"],[1,"text-center","ps-md-4","w-100"],[1,"mb-3",2,"color","#e84919"],["type","button",1,"btn","btn-light","w-100",2,"border-color","#e84919",3,"click"],[1,"bi","bi-box-arrow-in-right","me-2",2,"color","#e84919"]],template:function(_,l){if(_&1){let a=R();i(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h2",11),r(7,"Registrati"),t(),i(8,"form",12,0),M("ngSubmit",function(){g(a);let n=m(9);return p(l.onSubmit(n))}),i(10,"div",13)(11,"label",14),r(12,"Username"),t(),i(13,"input",15,1),C("ngModelChange",function(n){return g(a),b(l.model().username,n)||(l.model().username=n),p(n)}),t(),f(15,I,2,1),t(),i(16,"div",13)(17,"label",16),r(18,"Email"),t(),i(19,"input",17,2),C("ngModelChange",function(n){return g(a),b(l.model().email,n)||(l.model().email=n),p(n)}),t(),f(21,J,2,1),t(),i(22,"div",13)(23,"label",18),r(24,"Password"),t(),i(25,"input",19,3),C("ngModelChange",function(n){return g(a),b(l.model().password,n)||(l.model().password=n),p(n)}),t(),f(27,K,2,0,"small",20),t(),i(28,"div",13)(29,"label",21),r(30,"Confirm Password"),t(),i(31,"input",22,4),C("ngModelChange",function(n){return g(a),b(l.model().confirmPassword,n)||(l.model().confirmPassword=n),p(n)}),t(),f(33,Q,2,0,"small",20)(34,X,2,0,"small",20),t(),i(35,"button",23),h(36,"i",24),r(37," Register "),t()()(),h(38,"div",25)(39,"hr",26),i(40,"div",27)(41,"h5",28),r(42,"Hai gi\xE0 un account?"),t(),i(43,"button",29),M("click",function(){return g(a),p(l.navigateToLogin())}),h(44,"i",30),r(45," Login "),t()()()()()()()}if(_&2){let a=m(9),c=m(14),n=m(20),x=m(26),v=m(32);s(13),w("ngModel",l.model().username),s(2),u(c.invalid&&(c.touched||a.submitted)?15:-1),s(4),w("ngModel",l.model().email),s(2),u(n.invalid&&(n.touched||a.submitted)?21:-1),s(4),w("ngModel",l.model().password),s(2),u(x.invalid&&(x.touched||a.submitted)?27:-1),s(4),w("ngModel",l.model().confirmPassword),s(2),u(v.invalid&&(v.touched||a.submitted)?33:-1),s(),u(!l.samePassword&&v.valid&&a.submitted?34:-1)}},dependencies:[A,F,j,D,B,W,L,q,U,N,k],styles:[".form-control[_ngcontent-%COMP%]:focus{border-color:#e84919;box-shadow:0 0 0 .2rem #e8491940}"]})}}return e})();export{ae as RegisterComponent};
