import{a as j,b as A}from"./chunk-F2RV6YEE.js";import{b as V}from"./chunk-PMM4ZVK6.js";import{a as T}from"./chunk-DLAUTZIU.js";import"./chunk-PU5WDZF4.js";import{g as R}from"./chunk-YNLNNLDO.js";import{b as F,c as W,d as L,e as N,f as k,g as q,l as B,m as D}from"./chunk-HZ2NMNNL.js";import"./chunk-N7HB2IBM.js";import{$ as u,Ba as s,Fb as d,Gb as r,Lb as b,Mb as h,Nb as C,Oa as P,Ta as w,U as S,aa as g,ib as p,na as y,nb as i,ob as e,pb as _,tb as x,ub as M,vb as E}from"./chunk-L66XQOBG.js";function U(t,f){t&1&&(i(0,"small",17),r(1,"Email obbligatoria"),e())}function G(t,f){t&1&&(i(0,"small",17),r(1,"Formato email non valido"),e())}function H(t,f){if(t&1&&w(0,U,2,0,"small",17)(1,G,2,0,"small",17),t&2){E();let n=d(14);p(n.errors!=null&&n.errors.required?0:n.errors!=null&&n.errors.email?1:-1)}}function I(t,f){t&1&&(i(0,"small",17),r(1,"Password obbligatoria"),e())}function O(t,f){t&1&&(i(0,"small",17),r(1,"Conferma password obbligatoria"),e())}function z(t,f){t&1&&(i(0,"small",17),r(1,"Le password non corrispondono"),e())}var oe=(()=>{class t{constructor(){this.router=S(R),this.authService=S(T),this.samePassword=!1,this.model=y({email:"",password:"",confirmPassword:""})}onSubmit(n){if(console.log("Form submitted",n.value),n.value.password!==n.value.confirmPassword){this.samePassword=!1,console.error("Passwords do not match");return}else this.samePassword=!0,console.log("Passwords match");if(n.invalid){console.error("Form is invalid",n.errors);return}console.log("Form is valid",n.value),this.authService.registerUser(this.model()).subscribe({next:()=>{console.log("User registered successfully"),this.router.navigate(["/login"])},error:c=>{console.error("Error registering user",c)}})}navigateToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-register"]],decls:40,vars:7,consts:[["registrationForm","ngForm"],["email","ngModel"],["password","ngModel"],["confirmPassword","ngModel"],[1,"container","mt-5","mb-4"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow-sm"],[1,"card-body","d-flex","flex-column","flex-md-row","align-items-center","p-4","bg-light"],[1,"flex-fill","pe-md-4","mb-4","mb-md-0","w-100"],[1,"mb-4","text-center",2,"color","#e84919"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-red"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-light","w-100","mt-3",2,"border-color","#e84919"],[1,"bi","bi-person-plus","me-2",2,"color","#e84919"],[1,"vr","mx-4","d-none","d-md-block",2,"height","400"],[1,"d-block","d-md-none","w-100","my-4"],[1,"text-center","ps-md-4","w-100"],[1,"mb-3",2,"color","#e84919"],["type","button",1,"btn","btn-light","w-100",2,"border-color","#e84919",3,"click"],[1,"bi","bi-box-arrow-in-right","me-2",2,"color","#e84919"]],template:function(c,l){if(c&1){let a=x();i(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"h2",10),r(7,"Registrati"),e(),i(8,"form",11,0),M("ngSubmit",function(){u(a);let o=d(9);return g(l.onSubmit(o))}),i(10,"div",12)(11,"label",13),r(12,"Email"),e(),i(13,"input",14,1),C("ngModelChange",function(o){return u(a),h(l.model().email,o)||(l.model().email=o),g(o)}),e(),w(15,H,2,1),e(),i(16,"div",12)(17,"label",15),r(18,"Password"),e(),i(19,"input",16,2),C("ngModelChange",function(o){return u(a),h(l.model().password,o)||(l.model().password=o),g(o)}),e(),w(21,I,2,0,"small",17),e(),i(22,"div",12)(23,"label",18),r(24,"Confirm Password"),e(),i(25,"input",19,3),C("ngModelChange",function(o){return u(a),h(l.model().confirmPassword,o)||(l.model().confirmPassword=o),g(o)}),e(),w(27,O,2,0,"small",17)(28,z,2,0,"small",17),e(),i(29,"button",20),_(30,"i",21),r(31," Register "),e()()(),_(32,"div",22)(33,"hr",23),i(34,"div",24)(35,"h5",25),r(36,"Hai gi\xE0 un account?"),e(),i(37,"button",26),M("click",function(){return u(a),g(l.navigateToLogin())}),_(38,"i",27),r(39," Login "),e()()()()()()()}if(c&2){let a=d(9),m=d(14),o=d(20),v=d(26);s(13),b("ngModel",l.model().email),s(2),p(m.invalid&&(m.touched||a.submitted)?15:-1),s(4),b("ngModel",l.model().password),s(2),p(o.invalid&&(o.touched||a.submitted)?21:-1),s(4),b("ngModel",l.model().confirmPassword),s(2),p(v.invalid&&(v.touched||a.submitted)?27:-1),s(),p(!l.samePassword&&v.valid&&a.submitted?28:-1)}},dependencies:[A,V,j,D,q,F,W,L,B,k,N],styles:[".form-control[_ngcontent-%COMP%]:focus{border-color:#e84919;box-shadow:0 0 0 .2rem #e8491940}"]})}}return t})();export{oe as RegisterComponent};
