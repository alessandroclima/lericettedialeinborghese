<div class="container">

    <div *ngIf="recipe">
        <h1 class="mt-3 text-center custom-title">{{recipe.titolo}}</h1>
        <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
            <ol class="breadcrumb justify-content-center">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a [routerLink]="['/admin/recipes']">Ricette</a></li>
                <li class="breadcrumb-item active" aria-current="page">{{recipe.titolo}}</li>
            </ol>
        </nav>
        <div class="card mb-3 custom-card">
            <img *ngIf="recipe.immagineurl" [src]="'data:image/jpeg;base64,' + recipe.immagineurl" width="850"
                height="636" class="card-img-top" alt="Immagine Ricetta">
            <div class="card-body" style="background-color: dodgerblue;">
                <ul class="list-group list-group-horizontal">
                    <li class="list-group-item custom-card-text flex-fill">
                        <strong><i class="bi bi-people-fill"></i></strong> <input type="number" style="border-style: hidden;" [(ngModel)]="numero" (keydown.enter)="onEnterPressed()" placeholder="Inserisci un numero">

                    </li>
                    <li class="list-group-item custom-card-text flex-fill ms-2">
                        <strong><i class="bi bi-fire"></i></strong> {{ recipe.tempocottura }} Tempo di cottura
                    </li>
                    <li class="list-group-item custom-card-text flex-fill ms-2">
                        <strong><i class="bi bi-alarm"></i></strong> {{ recipe.tempocottura }} Tempo di preparazione
                    </li>
                    <li class="list-group-item custom-card-text flex-fill ms-2">
                        <strong><i class="bi bi-filetype-pdf"></i></strong>
                    </li>
                    <li class="list-group-item custom-card-text flex-fill ms-2">
                        <strong><i class="bi bi-whatsapp"></i></strong>
                    </li>
                </ul>
            </div>
        </div>
        <div class="card mt-4">
            <div class="card-header text-center" style="background-color: dodgerblue;">
                <strong style="color: white;">Descrizione</strong>
            </div>
            <div class="card-body">
                <p class="card-text">{{ recipe.descrizione }}</p>
            </div>
        </div>
        <div class="card mt-4">
            <div class="card-header text-center" style="background-color: dodgerblue;">
                <strong style="color: white;">Ingredienti</strong>
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item" *ngFor="let ingredient of ingredientiQuantita">
                    <span *ngIf="(ingredient.quantita == null || ingredient.quantita == 0) && (ingredient.unitaMisura == null || ingredient.unitaMisura == '')">
                        {{ ingredient.ingredienteNome }}
                    </span>
                    <span *ngIf="ingredient.quantita && ingredient.quantita !== 0">
                        {{ ingredient.ingredienteNome }} - {{ ingredient.quantita }} {{ingredient.unitaMisura}}
                    </span>
                    <span *ngIf="(ingredient.unitaMisura && ingredient.unitaMisura !== '') && (ingredient.quantita == null || ingredient.quantita == 0)">
                        {{ ingredient.ingredienteNome }} {{ingredient.unitaMisura}}
                    </span>
                </li>
            </ul>
        </div>
        <div class="card mt-4 mb-4">
            <div class="card-header text-center" style="background-color: dodgerblue;">
                <strong style="color: white;">Procedimento</strong>
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item" *ngFor="let step of recipe.procedimento.split(';'); let i = index">
                    <span class="badge text-bg-secondary me-3">{{i+1}}</span>{{ step.trim() }}
                </li>
            </ul>
        </div>
    </div>
    <div *ngIf="!recipe">
        <p>Loading...</p>
    </div>
</div>