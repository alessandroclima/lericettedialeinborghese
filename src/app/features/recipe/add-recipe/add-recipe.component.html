<div class="container">
    <h1 class="mt-3">Crea nuova ricetta</h1>
    <div class="mt-3">
        <form #form="ngForm" (ngSubmit)="onSubmit()">
            <div class="mb-3">
                <label for="title" class="form-label">Titolo</label>
                <input type="text" class="form-control" id="recipeTitle" name="recipeTitle" [(ngModel)]="model.titolo" placeholder="Inserisci il titolo">
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Descrizione</label>
                <input type="text" class="form-control" id="description" name="description"
                    [(ngModel)]="model.descrizione" placeholder="Inserisci la descrizione">
            </div>
            <div class="mb-3">
                <label for="cookTime" class="form-label">Tempo di cottura</label>
                <input type="text" class="form-control" id="cookTime" name="cookTime" [(ngModel)]="model.tempocottura" placeholder="Inserisci il tempo di cottura">
            </div>
            <div class="mb-3">
                <label for="servings" class="form-label">Porzioni</label>
                <input type="number" class="form-control" id="servings" name="servings" [(ngModel)]="model.porzioni" placeholder="Inserisci il numero di porzioni">
            </div>
            <div class="mb-3">
                <label for="ingredients" class="form-label">Ingredienti</label>
                <div class="input-group mb-3">
                    <select class="form-select" [(ngModel)]="selectedIngredient" name="selectedIngredient">
                        <option *ngFor="let ingredient of availableIngredients" [value]="ingredient.id">{{
                            ingredient.name }}</option>
                    </select>
                    <input type="text" class="form-control" placeholder="QuantitÃ " [(ngModel)]="ingredientQuantity"
                        name="ingredientQuantity">
                    <button type="button" class="btn btn-outline-secondary" (click)="addIngredient()">+</button>
                </div>
                <ul class="list-group">
                    <li *ngFor="let ingredient of model.ingredientiquantita" class="list-group-item">
                        {{ ingredient.ingredienteNome }} - {{ ingredient.quantita }}
                    </li>
                </ul>
            </div>
            <div class="mb-3">
                <label for="steps" class="form-label">Procedimento</label>
                <textarea class="form-control" id="steps" name="steps" [(ngModel)]="model.procedimento" placeholder="Descrivi i passaggi"></textarea>
            </div>
            <div class="mb-3">
                <label>Carica un'immagine:</label>
                <input type="file" class="form-control" (change)="onFileSelected($event)" accept="image/*">
                <div *ngIf="imageUrl" class="mt-3">
                    <img [src]="imageUrl" alt="Immagine caricata" class="img-thumbnail" style="max-width: 200px;">
                </div>
            </div>
            <button type="submit" class="btn btn-primary mb-3">Crea</button>
        </form>
    </div>
</div>