import{j as n}from"./chunk-YNLNNLDO.js";import{a as l,d as r}from"./chunk-N7HB2IBM.js";import{O as a,U as o,j as i}from"./chunk-L66XQOBG.js";var d=(()=>{class t{constructor(){this.http=o(l),this.cookieService=o(n),this.$user=new i(void 0),this.loginUserUrl=`${r.apiBaseUrl}/api/Auth/Login`,this.registerUserUrl=`${r.apiBaseUrl}/api/Auth/Register`}resetPassword(e){return this.http.post(`${r.apiBaseUrl}/api/Auth/reset-password`,e)}forgotPassword(e){return this.http.post(`${r.apiBaseUrl}/api/Auth/forgot-password`,e)}loginUser(e){return this.http.post(this.loginUserUrl,e)}registerUser(e){return this.http.post(this.registerUserUrl,e)}setUser(e){this.$user.next(e),localStorage.setItem("user-email",e.email),localStorage.setItem("user-roles",e.roles.join(","))}user(){return this.$user.asObservable()}logout(){localStorage.clear(),this.cookieService.delete("Authorization","/"),this.$user.next(void 0)}getUser(){let e=localStorage.getItem("user-email"),s=localStorage.getItem("user-roles");if(e&&s)return{email:e,roles:s.split(",")}}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{d as a};
